section .data
    str_1 db `Integer Array:\n`, 0
    str_2 db "%d ", 0
    str_3 db `\n`, 0

section .text
    global main
    extern printf
    extern scanf
    extern malloc
    extern free
    extern nullptr

main:
    push ebp
    mov ebp, esp
    sub esp, 68
    lea eax, [ebp-12]
    mov [ebp-16], eax
    add dword [ebp-16], 4
    add dword [ebp-16], 4
    lea eax, [ebp-32]
    mov [ebp-36], eax
    add dword [ebp-36], 4
    add dword [ebp-36], 4
    add dword [ebp-36], 4
    mov eax, str_1
    push eax
    call printf
    mov [ebp-52], eax
    add esp, 4
main.L1:
    mov eax, [ebp-60]
    test eax, eax
    jz main.L3
    sub esp, 12
    mov eax, [ebp-68]
    imul eax, eax, 4
    mov [ebp-68], eax
    mov eax, [ebp-72]
    sub esp, 8
    movss xmm0, [eax]
    cvtss2sd xmm0, xmm0
    movsd [esp], xmm0
    mov eax, str_2
    push eax
    call printf
    mov [ebp-76], eax
    add esp, 12
main.L2:
    mov eax, [ebp-56]
    mov [ebp-64], eax
    jmp main.L1
main.L3:
    mov eax, str_3
    push eax
    call printf
    mov [ebp-68], eax
    add esp, 4
    xor eax, eax
    mov esp, ebp
    pop ebp
    ret
